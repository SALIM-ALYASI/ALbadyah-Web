# API Setup Guide - ุฏููู ุฅุนุฏุงุฏ API

## ุชู ุชูุนูู ุฎุงุตูุฉ ุฑูุงุจุท API ุจูุฌุงุญ! ๐

ุชู ุฅูุดุงุก ูุธุงู API ุดุงูู ููููุนู ุงูุณูุงุญู ูุน ุงูููุฒุงุช ุงูุชุงููุฉ:

## โ ูุง ุชู ุฅูุฌุงุฒู

### 1. ูููุงุช API Routes
- โ `routes/api.php` - ุฌููุน ุฑูุงุจุท API
- โ ุฏุนู API v1 ูุน ุชูุธูู ูุงุถุญ ููุฑูุงุจุท

### 2. API Controllers
- โ `GovernorateApiController` - ุฅุฏุงุฑุฉ ุงููุญุงูุธุงุช
- โ `WilayatApiController` - ุฅุฏุงุฑุฉ ุงูููุงูุงุช  
- โ `TouristSiteApiController` - ุฅุฏุงุฑุฉ ุงูููุงูุน ุงูุณูุงุญูุฉ
- โ `TouristServiceApiController` - ุฅุฏุงุฑุฉ ุงูุฎุฏูุงุช ุงูุณูุงุญูุฉ
- โ `SearchApiController` - ุงูุจุญุซ ุงููุชูุฏู
- โ `VisitApiController` - ุฅุญุตุงุฆูุงุช ุงูุฒูุงุฑุงุช

### 3. API Resources
- โ `GovernorateResource` - ุชูุธูู ุจูุงูุงุช ุงููุญุงูุธุงุช
- โ `WilayatResource` - ุชูุธูู ุจูุงูุงุช ุงูููุงูุงุช
- โ `TouristSiteResource` - ุชูุธูู ุจูุงูุงุช ุงูููุงูุน ุงูุณูุงุญูุฉ
- โ `TouristServiceResource` - ุชูุธูู ุจูุงูุงุช ุงูุฎุฏูุงุช ุงูุณูุงุญูุฉ

### 4. Middleware & Security
- โ `CorsMiddleware` - ุฏุนู CORS ููุงุณุชุฎุฏุงู ูู ุงููุชุตูุญุงุช
- โ Laravel Sanctum - ูุธุงู ุงููุตุงุฏูุฉ ููู Admin APIs
- โ ุญูุงูุฉ ุงูุฑูุงุจุท ุงูุฅุฏุงุฑูุฉ

### 5. Documentation
- โ `API_DOCUMENTATION.md` - ุฏููู ุดุงูู ูุฌููุน ุงูู APIs
- โ ุฃูุซูุฉ ุนูููุฉ ููุงุณุชุฎุฏุงู
- โ ุดุฑุญ ุฌููุน ุงููุนุงููุงุช ูุงูุงุณุชุฌุงุจุงุช

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุชุดุบูู ุงูุฎุงุฏู
```bash
php artisan serve
```

### 2. ุงุฎุชุจุงุฑ API
```bash
# ุฌูุจ ุฌููุน ุงููุญุงูุธุงุช
curl http://localhost:8000/api/v1/governorates

# ุงูุจุญุซ ูู ุงูููุงูุน ุงูุณูุงุญูุฉ
curl "http://localhost:8000/api/v1/search?q=ูุณูุท"

# ุฌูุจ ุฅุญุตุงุฆูุงุช ุงููููุน
curl http://localhost:8000/api/v1/stats
```

### 3. ุงูุฑูุงุจุท ุงููุชุงุญุฉ

#### Public APIs (ูุง ุชุญุชุงุฌ ูุตุงุฏูุฉ):
- `GET /api/v1/governorates` - ุฌููุน ุงููุญุงูุธุงุช
- `GET /api/v1/wilayats` - ุฌููุน ุงูููุงูุงุช
- `GET /api/v1/tourist-sites` - ุฌููุน ุงูููุงูุน ุงูุณูุงุญูุฉ
- `GET /api/v1/tourist-services` - ุฌููุน ุงูุฎุฏูุงุช ุงูุณูุงุญูุฉ
- `GET /api/v1/search` - ุงูุจุญุซ ุงูุดุงูู
- `GET /api/v1/stats` - ุฅุญุตุงุฆูุงุช ุงููููุน
- `POST /api/v1/visits` - ุชุณุฌูู ุฒูุงุฑุฉ

#### Admin APIs (ุชุชุทูุจ ูุตุงุฏูุฉ):
- `POST /api/v1/admin/governorates` - ุฅูุดุงุก ูุญุงูุธุฉ
- `PUT /api/v1/admin/governorates/{id}` - ุชุญุฏูุซ ูุญุงูุธุฉ
- `DELETE /api/v1/admin/governorates/{id}` - ุญุฐู ูุญุงูุธุฉ
- (ููุณ ุงูููุท ููููุงูุงุช ูุงูููุงูุน ูุงูุฎุฏูุงุช)

## ๐ ุงูููุฒุงุช ุงููุชูุฏูุฉ

### 1. ุงูุจุญุซ ูุงูููุชุฑุฉ
- ุจุญุซ ูุตู ูู ุฌููุน ุงูุญููู
- ููุชุฑุฉ ุญุณุจ ุงููุญุงูุธุฉ ูุงูููุงูุฉ
- ุชุฑุชูุจ ูุชูุฏู ูููุชุงุฆุฌ
- Pagination ูููุชุงุฆุฌ ุงููุจูุฑุฉ

### 2. ุฅุฏุงุฑุฉ ุงูุตูุฑ
- ุฑูุน ุตูุฑ ูุชุนุฏุฏุฉ ููููุงูุน ุงูุณูุงุญูุฉ
- ุญุฐู ุงูุตูุฑ ุงููุฑุฏูุฉ
- URLs ุขููุฉ ููุตูุฑ

### 3. ุฅุญุตุงุฆูุงุช ูุชูุฏูุฉ
- ุชุชุจุน ุงูุฒูุงุฑุงุช
- ุฅุญุตุงุฆูุงุช ุญุณุจ ุงูุจูุฏ ูุงููุฏููุฉ
- ุชุตุฏูุฑ ุงูุจูุงูุงุช (JSON/CSV)
- ุฑุณูู ุจูุงููุฉ ููุจูุงูุงุช

### 4. ุงูุฃูุงู
- CORS support ููุงุณุชุฎุฏุงู ูู ุงููุชุตูุญุงุช
- Laravel Sanctum ูููุตุงุฏูุฉ
- ุญูุงูุฉ ูู SQL Injection
- Validation ุดุงูู ููุจูุงูุงุช

## ๐ง ุงูุฎุทูุงุช ุงูุชุงููุฉ

### 1. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
# ุชุดุบูู migrations
php artisan migrate

# ุชุดุบูู seeders (ุฅุฐุง ูุงูุช ูุชููุฑุฉ)
php artisan db:seed
```

### 2. ุฅุนุฏุงุฏ Sanctum (ูููุตุงุฏูุฉ)
```bash
# ูุดุฑ ูููุงุช Sanctum
php artisan vendor:publish --provider="Laravel\Sanctum\SanctumServiceProvider"

# ุชุดุบูู migrations
php artisan migrate
```

### 3. ุงุฎุชุจุงุฑ APIs
ููููู ุงุณุชุฎุฏุงู Postman ุฃู ุฃู ุฃุฏุงุฉ ุฃุฎุฑู ูุงุฎุชุจุงุฑ ุงูู APIs:
- ุงุณุชูุฑุงุฏ ููู Postman Collection (ุฅุฐุง ูุงู ูุชููุฑุงู)
- ุงุฎุชุจุงุฑ ุฌููุน ุงูู endpoints
- ุงูุชุญูู ูู ุงูุงุณุชุฌุงุจุงุช

## ๐ ุงููููุงุช ุงููููุฉ

```
routes/api.php                    # ุฑูุงุจุท API
app/Http/Controllers/Api/         # API Controllers
app/Http/Resources/               # API Resources
app/Http/Middleware/CorsMiddleware.php  # CORS Middleware
API_DOCUMENTATION.md             # ุฏููู API ุงูุดุงูู
```

## ๐ฏ ุฃูุซูุฉ ุณุฑูุนุฉ

### ุฌูุจ ูุญุงูุธุฉ ูุน ููุงูุงุชูุง:
```bash
curl "http://localhost:8000/api/v1/governorates/1?include=wilayats"
```

### ุงูุจุญุซ ูู ุงูููุงูุน ุงูุณูุงุญูุฉ:
```bash
curl "http://localhost:8000/api/v1/search/sites?q=ูุตุฑ&governorate_id=1"
```

### ุชุณุฌูู ุฒูุงุฑุฉ:
```bash
curl -X POST "http://localhost:8000/api/v1/visits" \
  -H "Content-Type: application/json" \
  -d '{"ip_address":"192.168.1.1","country":"Oman","city":"Muscat"}'
```

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู logs ูู `storage/logs/`
2. ุชุฃูุฏ ูู ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุชุญูู ูู ุตูุงุญูุงุช ุงููููุงุช
4. ุฑุงุฌุน `API_DOCUMENTATION.md` ููุชูุงุตูู ุงููุงููุฉ

---

**ุชู ุฅูุดุงุก ูุธุงู API ูุชูุงูู ูุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐**
